/* ==UserStyle==
@name         OneDrive Dark Mode
@namespace    github.com/IdioticBuffoonery/stylus/OneDrive
@version      0.0.8
@description  Dark mode for the online version of OneDrive
@author       HBIDamian
==/UserStyle== */
@-moz-document url-prefix("https://onedrive.live.com/?") {

	/*
	TODO:

	- Help Section / Setting Section / Profile Section.
	- "OneDrive Plans and Upgrades" page.
	- A few other small odities on the main page.
	- Make use of var() class to make it easier to keep a consistent colour palette.
	- Look into other possible models
	- Fully set up the Details Panel. (Espessially when looking at other folders and files)
	- Fix Shimmer (When OneDrive is loading) so it's dark mode, or hidden. 
	- Fix bugs 
        = MoveTo Screen different within folders
		= Occasionally some elements (upon hover) have incorrect BG Colour.
	*/
	/*
	Testing for Shimmer... 
	its hard to get the exact info because it disappears too fast,
	but i'd need find a way to hide whatever this shimmer is,
	or invert it.) This below is incorrect as Im not sure if it is
	a class, id, or other value type. I also need to find it's parents. 
		
	ms-Shaaaimmer-shimmerGradient {
		filter: invert(1);
	}
	
	*/
	/*
	Main Page
	*/
	body,
	html {
		background-color: #151515;
	}

	nav[role="navigation"] div {
		color: #bbb !important;
	}

	h2[class="od-ItemContent-title"] {
		color: #bbb;
	}

	div[data-automationid="ItemTile"],
	div[role="menubar"],
	button[role="menuitem"],
	div[role="listbox"] div,
	ul[class^="group-"],
	button[class^="submitSuggestion-"],
	div[class="ms-Viewport"] div,
	button[data-automationid="FieldRenderer-name"],
	form[role="search"] {
		color: white !important;
		background-color: #212121 !important;
	}

	div[role="menubar"] {
		border-bottom: unset !important;
	}

	button[role="menuitem"]:hover,
	button[role="menuitem"] span:hover {
		background: #151515 !important
	}

	i[class*="ms-Button-menuIcon is-expanded"] {
		background-color: unset !important;
		color: white !important;
	}

	div[data-automationid="ItemTile"]:hover {
		background-color: #262626 !important;
	}

	div[class="od-DetailsPaneWrapper isFluent"] div {
		background-color: #212121 !important;
		color: #bbb;
	}

	span[id^="Tile-name"] {
		color: #fff !important;
	}

	div[data-automationid="FieldRenderer-date"] {
		color: #999
	}

	div div[class="od-ItemActivityList-activity"],
	div[class="od-ItemActivityList-activity"] div {
		background-color: #151515 !important;
	}

	div[aria-label="Command bar"],
	.LeftNav-notificationLink,
	.LeftPane-notifications,
	.od-LeftNav-hamburger {
		border-color: #151515 !important;
	}

	/*below is a hacky way for the search bar */
	div[class^="suggestionContainer"] div div:hover,
	div div[class^="suggestionIconWrapper-"] div[class^="noWrap-"]:hover {
		background-color: #151515 !important;
	}

	/* Folder Cover */
	span[class^="ms-Tile-aboveNameplate aboveNameplate_3d7a162e"] span span {
		background: unset !important;
	}


	i[class^="ms-FolderCover-"],
	img[alt=".zip"],
	img[class="FileTypeIcon-icon"] {
		filter: brightness(0.275) grayscale(1);
	}

	span[class^="ms-FolderCover-metadata"],
	span[class^="ms-FolderCover-signal"] i {
		color: #bbb !important;
	}

	/* End Folder Cover */
	/*
	End Main Page
	*/
	/*Move items to page*/
	div[aria-label="Move items to"],
	div[aria-label="Copy items to"] {
		color: white !important;
		background-color: #262626 !important;
	}

	div[class*="od-FolderTree-row icon-visible is-selected"],
	div[class*="od-FolderTree-row is-selected"] {
		background: #151515 !important;
	}

	div[class="od-FolderTree-row icon-visible"]:hover {
		background-color: #212121 !important;
	}

	button[role="menuitem"]:hover {
		color: #bbb !important
	}

	span[class="od-commandBar-divider"] {
		background-color: #151515 !important;
	}

	li[role="separator"] {
		background-color: #151515 !important
	}

	button[aria-label="More"] {
		color: white !important;
	}

	i[data-icon-name="More"] {
		color: #fff !important;
	}

	li[class^="ms-Breadcrumb-listItem"] div div button:hover {
		background-color: #212121;
		color: white !important;
	}

	/*End Move items to page*/
	/*"Modal"*/
	div[class^="ms-Modal-scrollableContent scrollableContent-"] {
		background-color: #262626 !important;
	}

	div[class^="ms-Dialog-title title-"] {
		color: white !important;
	}

	button[aria-label="Close"] span {
		color: white;
	}

	button[aria-label="Close"]:hover {
		background-color: #151515;
	}

	button[data-automationid="cancelbutton"] {
		background-color: #212121 !important;
		color: white;
	}

	button[data-automationid="cancelbutton"]:hover {
		background-color: #151515 !important;
		color: white;
	}

	div[class^="od-Dialog-content"] {
		background-color: #212121 !important;
		color: #bbb !important;
	}

	p[class="od-Dialog-title"] {
		color: #bbb !important;
	}

	button[aria-label="Close"]:hover {
		background-color: #333 !important;
		color: #bbb !important;
	}

	div[class="ms-ModalOverlay"] {
		background-color: rgb(0 0 0 / 59%) !important;
	}

	/*End Modal"*/
	/* Start Left Panel */
	nav[role="navigation"] div {
		color: #bbb !important;
	}

	button[aria-label="Navigation pane"]:hover {
		background-color: #151515 !important;
	}

	li[class^="ms-Nav-navItem navItem"] div div div a {
		color: #bbb !important;
	}

	li[class^="ms-Nav-navItem navItem"] div div div a:hover {
		background-color: #151515 !important;
	}

	li[class^="ms-Nav-navItem navItem"] div.is-selected div div a {
		background-color: #333 !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] {
		background-color: #212121 !important;
		color: cyan !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] li button:hover {
		background-color: #151515 !important;
		color: white !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] li button {
		color: #bbb !important;
	}

	div[data-automationid="main-left-nav"] {
		background-color: #212121 !important;
	}

	div[class="od-LeftNav-overlay"] {
		background-color: rgb(0 0 0 / 59%);
	}

	div[class="od-PremiumUpsellBanner-header"]:hover {
		background-color: #151515;
	}

	/*End Left Panel*/
	/*Video/Audio*/
	div[class="OneUp-carousel"] {
		background-color: #151515 !important;
	}

	div[class^="OneUp-detailsBar OneUp-detailsBar--hasCaption"] div {
		background-color: #252525 !important;
		color: white !important;
	}

	button[class^="OneUp-caption"],
	div[class="od-PlaybackPanel"] * {
		color: #bbb !important;
	}

	div[class="od-ScrubBar"] div div div {
		background: #bbb !important;
	}

	/*End Video/Audio*/
	/*Recycle Bin List*/
	div[class="od-FolderItemContent-list od-ItemContent-list"] div {
		background-color: #151515 !important;
		color: white !important;
	}

	a[data-automationid="FieldRenderer-name"] {
		color: #fff !important;
	}

	button[class^="od-FieldRenderer-dot"] {
		color: white !important;
		background: #212121 !important;
	}

	div[class="od-FolderItemContent-header od-ItemContent-header"] {
		color: #bbb
	}

	/*End Recycle Bin List*/
	/*Microsoft 365 Application Launcher*/
	div[id="appLauncherTop"],
	div[id="appLauncherMainView"] {
		background-color: #212121 !important;
	}

	div[id="appLauncherTop"] div,
	div[id="appLauncherMainView"] div,
	div[id="appsModule"] div h2 {
		color: #bbb !important;
	}

	/* -> All Apps */
	div[aria-label="App launcher opened"] div {
		background-color: #151515 !important;
		color: white !important;
	}

	div[id="appLauncher"] div div div[id="allView"] * {
		color: #bbb !important;
	}

	input[id="appLauncherSearch"] {
		box-shadow: 1px 2px 0 rgba(236, 236, 236, .14) !important;
		background-color: #212121 !important;
		color: white !important;
	}

	span[class="ms-Icon--Search o365sx-neutral-dark-font"] {
		color: white !important;
	}
	/*END Microsoft 365 Application Launcher*/

	/*scrollbar I ripped off of W3Schools*/
	::-webkit-scrollbar {
		width: 11px;
	}

	::-webkit-scrollbar-track {
		background: #212121;
	}

	::-webkit-scrollbar-thumb {
		background: #333;
	}

	::-webkit-scrollbar-thumb:hover {
		background: #666;
	}

	::-webkit-scrollbar-corner {
		background: #212121;
	}
}
