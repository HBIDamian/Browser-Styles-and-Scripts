/* ==UserStyle==
@name         OneDrive Dark Mode
@namespace    github.com/IdioticBuffoonery/stylus/OneDrive
@version      0.0.12
@description  Dark mode for the online version of OneDrive
@author       HBIDamian
==/UserStyle== */
:root {
	--Main-Color: #151515;
	--Secondary-Color: #212121;
	--Tertiary-Color: #262626;
	--Item-Focus-Color: #333;
	--Main-Text-Color: #fff;
	--Secondary-Text-Color: #bbb;
}

/*
TODO:

- Help Section / Setting Section / Profile Section.
- "OneDrive Plans and Upgrades" page.
- Look into other possible models
- Fix Shimmer (When OneDrive is loading) so it's dark mode, or hidden. 
- Fix bugs 
- MoveTo/CopyTo parent folder occasionally is white
*/
@-moz-document url-prefix("https://onedrive.live.com/?"), url("https://onedrive.live.com/")  {


	/*
	Main Page
	*/
	body,
	html {
		background-color: var(--Main-Color);
	}

	nav[role="navigation"] div {
		color: var(--Secondary-Text-Color) !important;
	}

	h2[class="od-ItemContent-title"],
	h2 {
		color: var(--Secondary-Text-Color) !important;
	}

	div[data-automationid="ItemTile"],
	div[role="menubar"],
	button[role="menuitem"],
	div[role="listbox"] div,
	ul[class^="group-"],
	button[class^="submitSuggestion-"],
	div[class="ms-Viewport"] div,
	button[data-automationid="FieldRenderer-name"],
	form[role="search"] {
		color: var(--Main-Text-Color) !important;
		background-color: var(--Secondary-Color) !important;
	}

	[class^="core"],
	[class^="commandBar"] {
		background-color: unset !important;
	}

	div[role="menubar"],
	div[class="ms-Viewport"] div {
		border-bottom: unset !important;
	}

	button[role="menuitem"]:hover,
	button[role="menuitem"] span:hover,
	div[aria-label="Command bar"] span[class^="ms-Button-flexContainer"] {
		background: var(--Main-Color) !important
	}

	ol[class^="ms-Breadcrumb-list"] li div,
	i[class^="ms-Breadcrumb-chevron"] {
		color: var(--Main-Text-Color) !important;
	}

	i[class*="ms-Button-menuIcon is-expanded"] {
		background-color: unset !important;
		color: var(--Main-Text-Color) !important;
	}

	div[data-automationid="ItemTile"]:hover {
		background-color: var(--Tertiary-Color) !important;
	}

	div[class="od-DetailsPane-PrimaryPane-wrapper"] {
		background-color: var(--Tertiary-Color) !important;
		color: var(--Secondary-Text-Color) !important;
	}

	span[aria-label="You"] span,
	span[id^="Title-name"],
	div[class="od-DetailsPane-PrimaryPane-header"] h2,
	div[class="od-DetailsPane-PrimaryPane-header"] div,
	button[aria-label="Close the details pane"] span i,
	input[aria-label="Description"],
	div[class="od-addNewCommentTextField-mentionableTextBox"],
	button[aria-label="Activity feed view options. Selected view option is All activity"],
	div[class="od-SharingSection-PermissionsPile-descriptionText"] {
		color: var(--Main-Text-Color) !important;
	}

	div[class*="od-DetailsPaneWrapper"] {
		border-color: var(--Main-Color) !important;
	}

	div[class*="od-Caption-textField"],
	div[class*="od-DetailsPane-PrimaryPane-header"],
	div[class="od-SharingSection-PermissionsPile"],
	button[class="od-SharingSection-ManageAccessLink-Button"],
	div[class="od-DetailsPane-SecondaryPane-wrapper"],
	div[class*="od-DetailsPane-SecondaryPane"],
	div[class="InfoPane-section InfoPaneSection--information is-expanded no-arrow"],
	.od-DetailsPane-SecondaryPane-header,
	div[class="InfoPane-sectionContent"] *,
	div[class="od-ItemActivityFeed-noActivities"] {
		background-color: var(--Main-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	div[data-automationid="FieldRenderer-date"],
	div[class="od-ItemActivity-item-textContent"] {
		color: var(--Secondary-Text-Color);
	}

	div div[class="od-ItemActivityList-activity"],
	div[class="od-ItemActivityList-activity"] div,
	.ms-CommandBar:after,
	button[aria-label="Show actions"]:hover,
	button[aria-label="Share the selected item with other people"]:hover,
	input[aria-label="Description"],
	div[class="od-addNewCommentTextField-mentionableTextBox"],
	div[class="od-addNewCommentTextField-mentionableTextBox-outer"] {
		background-color: var(--Main-Color) !important;
	}

	div[aria-label="Command bar"],
	div[data-automationid="main-left-nav"],
	div[class^="ms-OverflowSet"]::after,
	.LeftNav-notificationLink,
	.LeftPane-notifications,
	.od-LeftNav-hamburger {
		border-color: var(--Main-Color) !important;
	}

	/*below is a hacky way for the search bar */
	div[class^="suggestionContainer"] div div:hover,
	div div[class^="suggestionIconWrapper-"] div[class^="noWrap-"]:hover {
		background-color: var(--Main-Color) !important;
	}

	div[class^="carouselCardContainer"] a,
	div[class^="carouselCardContainer"] a span {
		background: var(--Secondary-Color) !important;
		color: var(--Main-Text-Color) !important
	}

	/* Folder Cover */
	span[class^="ms-Tile-aboveNameplate aboveNameplate_3d7a162e"] span span {
		background: unset !important;
	}


	i[class^="ms-FolderCover-"],
	img[alt=".zip"],
	img[class="FileTypeIcon-icon"],
	i[data-icon-name="sharedfolder20_svg"],
	i[data-icon-name="folder20_svg"] {
		filter: brightness(0.275) grayscale(1);
	}

	span[class^="ms-FolderCover-metadata"],
	span[class^="ms-FolderCover-signal"] i {
		color: var(--Secondary-Text-Color) !important;
	}

	/* End Folder Cover */
	/*
	End Main Page
	*/
	/*Move items to page*/
	div[aria-label="Move items to"],
	div[aria-label="Copy items to"] {
		color: var(--Main-Text-Color) !important;
		background-color: var(--Tertiary-Color) !important;
	}

	div[class="od-FolderTree-contentContainer"] {
		background-color: var(--Secondary-Color)
	}

	span[class^="od-FolderTree-folderName"],
	div[class^="od-FolderTree-title"] {
		color: var(--Main-Text-Color) !important
	}

	div[class*="od-FolderTree-row icon-visible is-selected"],
	div[class*="od-FolderTree-row is-selected"],
	div[class^="od-FolderTree-row icon-visible"] {
		background: var(--Main-Color) !important;
	}

	div[class="od-FolderTree-row icon-visible"]:hover {
		background-color: var(--Secondary-Color) !important;
	}

	button[role="menuitem"]:hover {
		color: var(--Secondary-Text-Color) !important
	}

	span[class="od-commandBar-divider"] {
		background-color: var(--Main-Color) !important;
	}

	li[role="separator"] {
		background-color: var(--Main-Color) !important
	}

	button[aria-label="More"] {
		color: var(--Main-Text-Color) !important;
	}

	i[data-icon-name="More"] {
		color: var(--Main-Text-Color) !important;
	}

	li[class^="ms-Breadcrumb-listItem"] div div button:hover {
		background-color: var(--Secondary-Color);
		color: var(--Main-Text-Color) !important;
	}

	/*End Move items to page*/
	/*Embed Page*/
	div[aria-label*="in a blog or webpage."],
	p[class^="od-embed-disclaimer"] {
		background-color: var(--Tertiary-Color);
		color: var(--Main-Text-Color) !important
	}

	div[class="od-embed-details"] textarea {
		background: var(--Main-Color) !important;
		color: var(--Main-Text-Color) !important
	}

	/*End Embed Page*/
	/*"Modal"*/
	div[class^="ms-Modal-scrollableContent scrollableContent-"] {
		background-color: var(--Tertiary-Color) !important;
	}

	div[class^="ms-Dialog-title title-"] {
		color: var(--Main-Text-Color) !important;
	}

	button[aria-label="Close"] span {
		color: var(--Main-Text-Color);
	}

	button[aria-label="Close"]:hover {
		background-color: var(--Main-Color);
	}

	button[data-automationid="cancelbutton"] {
		background-color: var(--Secondary-Color) !important;
		color: var(--Main-Text-Color);
	}

	button[data-automationid="cancelbutton"]:hover {
		background-color: var(--Main-Color) !important;
		color: var(--Main-Text-Color);
	}

	div[class^="od-Dialog-content"] {
		background-color: var(--Secondary-Color) !important;
		color: var(--Secondary-Text-Color) !important;
	}

	p[class="od-Dialog-title"] {
		color: var(--Secondary-Text-Color) !important;
	}

	button[aria-label="Close"]:hover {
		background-color: var(--Item-Focus-Color) !important;
		color: var(--Secondary-Text-Color) !important;
	}

	div[class*="ms-ModalOverlay"] {
		background-color: rgb(0 0 0 / 59%) !important;
	}

	/*End Modal"*/
	/* Start Left Panel */
	nav[role="navigation"] div {
		color: var(--Secondary-Text-Color) !important;
	}

	button[aria-label="Navigation pane"]:hover {
		background-color: var(--Main-Color) !important;
	}

	li[class^="ms-Nav-navItem navItem"] div div div a {
		color: var(--Secondary-Text-Color) !important;
	}

	li[class^="ms-Nav-navItem navItem"] div div div a:hover {
		background-color: var(--Main-Color) !important;
	}

	li[class^="ms-Nav-navItem navItem"] div.is-selected div div a {
		background-color: var(--Item-Focus-Color) !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] {
		background-color: var(--Secondary-Color) !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] li button:hover {
		background-color: var(--Main-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	ul[class^="ms-ContextualMenu-list is-open list"] li button {
		color: var(--Secondary-Text-Color) !important;
	}

	div[data-automationid="main-left-nav"] {
		background-color: var(--Secondary-Color) !important;
	}

	div[class="od-LeftNav-overlay"] {
		background-color: rgb(0 0 0 / 59%);
	}

	div[class="od-PremiumUpsellBanner-header"] {
		background-color: var(--Main-Color) !important;
	}

	div[class="od-QuotaBar-total"] {
		border-color: var(--Main-Color) !important;
	}

	/*End Left Panel*/
	/*Video/Audio*/
	div[class="OneUp-carousel"] {
		background-color: var(--Main-Color) !important;
	}

	div[class^="OneUp-detailsBar OneUp-detailsBar--hasCaption"] div {
		background-color: var(--Tertiary-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	button[class^="OneUp-caption"],
	div[class="od-PlaybackPanel"] * {
		color: var(--Secondary-Text-Color) !important;
	}

	div[class="od-ScrubBar"] div div div {
		background: var(--Secondary-Text-Color) !important;
	}

	/*End Video/Audio*/
	/*Recycle Bin List*/
	div[class="od-FolderItemContent-list od-ItemContent-list"] div {
		background-color: var(--Main-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	a[data-automationid="FieldRenderer-name"] {
		color: var(--Main-Text-Color) !important;
	}

	button[class^="od-FieldRenderer-dot"] {
		color: var(--Main-Text-Color) !important;
		background: var(--Secondary-Color) !important;
	}

	div[class="od-FolderItemContent-header od-ItemContent-header"] {
		color: var(--Secondary-Text-Color)
	}

	/*End Recycle Bin List*/
	/*Microsoft 365 Application Launcher*/
	div[id="appLauncherTop"],
	div[id="appLauncherMainView"] {
		background-color: var(--Secondary-Color) !important;
	}

	div[id="appLauncherTop"] div,
	div[id="appLauncherMainView"] div,
	div[id="appsModule"] div h2 {
		color: var(--Secondary-Text-Color) !important;
	}

	/* -> All Apps */
	div[aria-label="App launcher opened"] div {
		background-color: var(--Main-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	div[id="appLauncher"] div div div[id="allView"] * {
		color: var(--Secondary-Text-Color) !important;
	}

	input[id="appLauncherSearch"] {
		box-shadow: 1px 2px 0 rgba(236, 236, 236, .14) !important;
		background-color: var(--Secondary-Color) !important;
		color: var(--Main-Text-Color) !important;
	}

	span[class="ms-Icon--Search o365sx-neutral-dark-font"] {
		color: var(--Main-Text-Color) !important;
	}

	/*END Microsoft 365 Application Launcher*/
	/*scrollbar I ripped off of W3Schools*/
	::-webkit-scrollbar {
		width: 11px;
	}

	::-webkit-scrollbar-track {
		background: var(--Secondary-Color);
	}

	::-webkit-scrollbar-thumb {
		background: var(--Item-Focus-Color);
	}

	::-webkit-scrollbar-thumb:hover {
		background: #666;
	}

	::-webkit-scrollbar-corner {
		background: var(--Secondary-Color);
	}
}

@-moz-document url-prefix("https://onedrive.live.com/?ocid=PROD") {
	/*
	--Main-Color: #151515;
	--Secondary-Color: #212121;
	--Tertiary-Color: #262626;
	*/
	/*Nav Bar*/
	nav[role="navigation"] div {
		color: var(--Secondary-Text-Color) !important;
	}

	span[class="LeftNav-linkText"] {
		color: var(--Secondary-Text-Color) !important;
	}

	a[role="menuitem"]:hover {
		background: var(--Main-Color) !important;
	}

	a[class*="LeftNav-is-active"] {
		background: var(--Tertiary-Color) !important;
	}

	a[class*="LeftNav-is-active"]:hover {
		background: var(--Tertiary-Color) !important;
	}

	div[data-automationid="main-left-nav"] {
		background-color: var(--Secondary-Color) !important;
	}

	/*End Nav Bar*/
	/*Search Bar*/
	form[role="search"] {
		color: var(--Main-Text-Color) !important;
		background-color: var(--Secondary-Color) !important;
	}

	div[data-automationid="ItemTile"],
	div[role="menubar"],
	button[role="menuitem"],
	div[role="listbox"] div,
	ul[class^="group-"],
	button[class^="submitSuggestion-"],
	div[class="ms-Viewport"] div,
	button[data-automationid="FieldRenderer-name"],
	form[role="search"] {
		color: var(--Main-Text-Color) !important;
		background-color: var(--Secondary-Color) !important;
	}

	i[class^="ms-FolderCover-"],
	img[alt=".zip"],
	img[class="FileTypeIcon-icon"],
	i[data-icon-name="sharedfolder20_svg"],
	i[data-icon-name="folder20_svg"],
	i[data-icon-name="folder24_1.5x_svg"] {
		filter: brightness(0.275) grayscale(1);
	}
}
